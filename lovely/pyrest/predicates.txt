==========
Predicates
==========

`lovely.pyrest` registers additional pyramid predicates.

Content-Type Predicate
======================

The content-type predicate is a predicate for the `Content-Type` header field::

    >>> from lovely.pyrest.predicates import ContentTypePredicate
    >>> predicate = ContentTypePredicate('application/json', None)

`Pyramid` requires a phash method which informs the uniqueness constrains for
view configuration::

    >>> print predicate.phash()
    content_type = application/json

The predicate matches if request has the same content type as defined in the
predicate::

    >>> from pyramid.request import Request
    >>> request = Request({})
    >>> request.content_type = 'application/json'
    >>> predicate(None, request)
    True

    >>> request.content_type = ''
    >>> predicate(None, request)
    False
